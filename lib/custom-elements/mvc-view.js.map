{"version":3,"sources":["../../src/custom-elements/mvc-view.js"],"names":["MVCView","_shadow","attachShadow","mode","formNode","document","createElement","slot","append","appendChild","_model","model","Error","Model","_view","View","HTMLElement"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAEA;;;;IAIqBA,O;;;;;AACjB;;;AAGA,qBAAc;AAAA;AAAA;AAEb;AAED;;;;;;;wCAGoB;AAChB;;;AAGA,WAAKC,OAAL,GAAe,KAAKC,YAAL,CAAkB;AAC7BC,QAAAA,IAAI,EAAE;AADuB,OAAlB,CAAf;AAGA,UAAIC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAf;AACA,UAAIC,IAAI,GAAGF,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAX;AACAF,MAAAA,QAAQ,CAACI,MAAT,CAAgBD,IAAhB;;AACA,WAAKN,OAAL,CAAaQ,WAAb,CAAyBL,QAAzB;AACH;AAED;;;;;;;wBAIY;AACR,aAAO,KAAKM,MAAZ;AACH;AAED;;;;;sBAIUC,K,EAAO;AACb,UAAI,KAAKD,MAAT,EAAiB;AACb,cAAM,IAAIE,KAAJ,CAAU,iCAAV,CAAN;AACH;AAED;;;;;;AAIA,WAAKF,MAAL,GAAc,IAAIG,iBAAJ,CAAUF,KAAV,CAAd;AAEA;;;;;AAIA,WAAKG,KAAL,GAAa,IAAIC,gBAAJ,CAAS,IAAT,EAAe,KAAKL,MAApB,CAAb;AACH;;;oCApDgCM,W","sourcesContent":["import View from '../view';\nimport Model from '../model';\n\n/**\n * This class is a custom HTMLElement that provides some syntactic sugar for setting up Views and Models\n * @experimental This class is an experimental featue, and may not be valid in the future\n */\nexport default class MVCView extends HTMLElement {\n    /**\n     * Simply call the super() constructor\n     */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Adds a form around the content slot\n     */\n    connectedCallback() {\n        /**\n         * @type {object}\n         */\n        this._shadow = this.attachShadow({\n            mode: 'open'\n        });\n        let formNode = document.createElement('form');\n        let slot = document.createElement('slot');\n        formNode.append(slot);\n        this._shadow.appendChild(formNode);\n    }\n\n    /**\n     * Return the model for the view. May be null if model has not been supplied yet.\n     * @type {object}\n     */\n    get model() {\n        return this._model;\n    }\n\n    /**\n     * Set the model the view will observe and modify.\n     * @param {object} model An object to be turned into an MVC Model\n     */\n    set model(model) {\n        if (this._model) {\n            throw new Error('The model may only be set once.');\n        }\n\n        /**\n         * The Model instance encapsulated by this element\n         * @type {object}\n         */\n        this._model = new Model(model);\n\n        /**\n         * The View instance encapsulated by this element\n         * @type {object}\n         */\n        this._view = new View(this, this._model);\n    }\n}\n"],"file":"mvc-view.js"}